!function(){"use strict";var e=window.addEventListener?"addEventListener":"attachEvent",t=window[e],r=window.removeEventListener?"removeEventListener":"detachEvent",n=window[r],o="attachEvent"==e?"onmessage":"message",i=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://widget.payu.in";null!=e&&e.contentWindow&&e.contentWindow.postMessage({evt:t,payload:r},n)};function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var a=["style","src"],s=["src","style"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){var n;return n=function(e,t){if("object"!=c(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var f=function(e,t){var r=t.style,n=void 0===r?{}:r,o=t.src,i=y(t,a);for(var c in o&&o!==e.src&&(e.src=o),n)e.style[c]=n[c];for(var s in i)e[s]=i[s];return e},p=function(e){var t=e.src,r=void 0===t?"":t,n=e.style,o=void 0===n?{}:n,i=y(e,s),c=document.createElement("iframe");return(c=function(e){return e.marginheight="0",e.marginwidth="0",e.hspace="0",e.vspace="0",e.frameborder="0",e.scrolling="no",e.style.border=0,e.style.outline=0,e}(c)).src=r,f(c,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({style:o},i))},b="INIT",d="INIT_SIDE_WIDGET",v="UPDATE_LANDING_WIDGET",m="SHOW_OFFER",O="SHOW_EMI_CREDIT",g="SHOW_EMI_DEBIT",E="SHOW_PAY_LATER",w="CLOSE_SIDE_WIDGET",h="CLOSE_LANDING_WIDGET",D="UPDATE_MOBILE_DATA",I="OVERIDE_WIDGET_CONFIG",j="UPDATE_INTENT_CAPTURE",P={LANDING_WIDGET:"".concat("https://widget.payu.in"),SIDE_WIDGET:"".concat("https://widget.payu.in","/sideWidget")};function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){var n;return n=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==S(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e,r){var c={},a=null,s={display:"block",visibility:"visible",opacity:1},u={display:"none",visibility:"hidden",opacity:0},l={src:P.SIDE_WIDGET,style:{display:"none",position:"fixed",zIndex:"9999",width:"100%",height:"100%",top:"0",right:"0"}},y=p({src:P.LANDING_WIDGET,style:{display:"block",width:"100%",maxWidth:"645px",height:"320px"}}),S=p(l),T=function(e,t){i(S,e,t),f(S,{style:s})},W=function(e){var t=function(e){var t=e.message?"message":"data";return e[t]&&"string"==typeof e[t]?JSON.parse(e[t]):e[t]}(e),r=t.evt,n=t.payload;switch(r){case v:f(y,{style:_(_({},s),n)});break;case b:null!==a&&i(y,b,a);break;case d:null!==a&&i(S,d,a);break;case D:i(y,D,n);break;case m:T(m,n);break;case O:T(O,n);break;case g:T(g,n);break;case E:T(E,n);break;case w:f(S,{style:u});break;case h:f(y,{style:u});break;case I:i(y,I,n),i(S,I,n);break;case j:i(y,j,n)}};c.init=function(i){i.key&&!isNaN(i.amount)&&i.amount>0?(a=_({},i),function(e){t(o,e,!1)}(W),r.getElementById("payuWidget").appendChild(y),r.body.appendChild(S),e.onunload=function(){!function(e){n(o,e,!1)}(W)}):console.error("AFFORDABILTY WIDGET : Please pass correct key and correct amount as a parameter while initializing the widget")},e.payuAffordability=c}(window,document)}();